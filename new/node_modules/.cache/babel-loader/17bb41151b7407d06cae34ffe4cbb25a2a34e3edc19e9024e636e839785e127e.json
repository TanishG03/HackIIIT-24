{"ast":null,"code":"var _jsxFileName = \"/Users/saket/Documents/Rent@I/HackIIIT-24/new/src/components/RentOutBike.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext'; // Ensure this path is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentOutBike = ({\n  navigateTo\n}) => {\n  _s();\n  const [isListingCreated, setListingCreated] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    milesDriven: '',\n    hasFuel: false\n  });\n  const {\n    isLoggedIn,\n    token\n  } = useAuth();\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  const handleRentOut = async e => {\n    e.preventDefault(); // Prevent default form submission behavior\n\n    if (!isLoggedIn) {\n      alert('You must be logged in to rent out a bike');\n      return;\n    }\n    try {\n      const payload = {\n        ...formData,\n        milesDriven: parseInt(formData.milesDriven, 10) || 0,\n        hasFuel: formData.hasFuel // Make sure this matches backend's expectation (boolean or string)\n      };\n      const response = await axios.post('http://127.0.0.1:5000/rent-out', payload, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json' // Specify the content type\n        }\n      });\n      if (response.status === 201) {\n        setListingCreated(true);\n      } else {\n        alert('Failed to create listing. Please try again later.');\n      }\n    } catch (error) {\n      console.error('Error renting out the bike:', error);\n      alert('Failed to create listing. Please try again later.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rent-out-bike\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Rent Out Your Bike\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"bike-form\",\n      onSubmit: handleRentOut,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit Listing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), isListingCreated && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Listing created successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigateTo('landing'),\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(RentOutBike, \"/jabegtYa+82KCiAXNc+1EmGvkU=\", false, function () {\n  return [useAuth];\n});\n_c = RentOutBike;\nexport default RentOutBike;\nvar _c;\n$RefreshReg$(_c, \"RentOutBike\");","map":{"version":3,"names":["React","useState","useContext","axios","useAuth","jsxDEV","_jsxDEV","RentOutBike","navigateTo","_s","isListingCreated","setListingCreated","formData","setFormData","name","description","milesDriven","hasFuel","isLoggedIn","token","handleInputChange","e","value","type","checked","target","prevData","handleRentOut","preventDefault","alert","payload","parseInt","response","post","headers","Authorization","status","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onClick","_c","$RefreshReg$"],"sources":["/Users/saket/Documents/Rent@I/HackIIIT-24/new/src/components/RentOutBike.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext'; // Ensure this path is correct\n\nconst RentOutBike = ({ navigateTo }) => {\n  const [isListingCreated, setListingCreated] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    milesDriven: '',\n    hasFuel: false,\n  });\n\n  const { isLoggedIn, token } = useAuth();\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handleRentOut = async (e) => {\n    e.preventDefault();  // Prevent default form submission behavior\n\n    if (!isLoggedIn) {\n      alert('You must be logged in to rent out a bike');\n      return;\n    }\n\n    try {\n      const payload = {\n        ...formData,\n        milesDriven: parseInt(formData.milesDriven, 10) || 0,\n        hasFuel: formData.hasFuel  // Make sure this matches backend's expectation (boolean or string)\n      };\n\n      const response = await axios.post(\n        'http://127.0.0.1:5000/rent-out',\n        payload,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'  // Specify the content type\n          }\n        }\n      );\n\n      if (response.status === 201) {\n        setListingCreated(true);\n      } else {\n        alert('Failed to create listing. Please try again later.');\n      }\n    } catch (error) {\n      console.error('Error renting out the bike:', error);\n      alert('Failed to create listing. Please try again later.');\n    }\n  };\n\n  return (\n    <div className=\"rent-out-bike\">\n      <h2>Rent Out Your Bike</h2>\n      <form className=\"bike-form\" onSubmit={handleRentOut}>\n        {/* ... form fields ... */}\n        <button type=\"submit\">Submit Listing</button>\n      </form>\n      {isListingCreated && <div>Listing created successfully!</div>}\n      <button onClick={() => navigateTo('landing')}>Go Back</button>\n    </div>\n  );\n};\n\nexport default RentOutBike;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}