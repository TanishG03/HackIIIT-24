{"ast":null,"code":"var _jsxFileName = \"/Users/saket/Documents/Rent@I/HackIIIT-24/new/src/components/RentOutBike.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext'; // Ensure this path is correct\nimport './RentOutBike.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentOutBike = ({\n  navigateTo\n}) => {\n  _s();\n  const [isListingCreated, setListingCreated] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    milesDriven: '',\n    hasFuel: false\n  });\n  const {\n    isLoggedIn,\n    token\n  } = useAuth(); // Retrieve isLoggedIn status and JWT token from AuthContext\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  const handleRentOut = async () => {\n    if (!isLoggedIn) {\n      alert('You must be logged in to rent out a bike');\n      return;\n    }\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/rent-out', {\n        ...formData,\n        milesDriven: parseInt(formData.milesDriven) || 0\n      },\n      // Ensuring milesDriven is a number\n      {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.status === 201) {\n        setListingCreated(true);\n      } else {\n        alert('Failed to create listing. Please try again later.');\n      }\n    } catch (error) {\n      console.error('Error renting out the bike:', error);\n      alert('Failed to create listing. Please try again later.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rent\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container1_rob\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-content0_rob\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"typing-animation1_rob\",\n          children: \"Rent it Out!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-animation1_rob\",\n          children: \"Make money by renting out your bike when you're not using it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"frm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: \"Post Your Ad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toRent\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"horizontal-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-half\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Vehicle Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                value: formData.name,\n                onChange: handleInputChange,\n                placeholder: \"Type Vehicle Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Vehicle Description:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"description\",\n                value: formData.description,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Miles Driven:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"milesDriven\",\n                value: formData.milesDriven,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"checkbox-label\",\n              children: [\"Has Fuel:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"hasFuel\",\n                checked: formData.hasFuel,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Pictures:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"pictures\",\n                multiple: true,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRentOut,\n          className: \"rent-out-button\",\n          children: \"Rent Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigateTo('landing'),\n          className: \"go-back-button\",\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), isListingCreated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: \"Your bike listing has been created successfully.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(RentOutBike, \"/jabegtYa+82KCiAXNc+1EmGvkU=\", false, function () {\n  return [useAuth];\n});\n_c = RentOutBike;\nexport default RentOutBike;\nvar _c;\n$RefreshReg$(_c, \"RentOutBike\");","map":{"version":3,"names":["React","useState","axios","useAuth","jsxDEV","_jsxDEV","RentOutBike","navigateTo","_s","isListingCreated","setListingCreated","formData","setFormData","name","description","milesDriven","hasFuel","isLoggedIn","token","handleInputChange","e","value","type","checked","target","prevData","handleRentOut","alert","response","post","parseInt","headers","Authorization","status","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","multiple","onClick","_c","$RefreshReg$"],"sources":["/Users/saket/Documents/Rent@I/HackIIIT-24/new/src/components/RentOutBike.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext'; // Ensure this path is correct\nimport './RentOutBike.css';\n\nconst RentOutBike = ({ navigateTo }) => {\n  const [isListingCreated, setListingCreated] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    milesDriven: '',\n    hasFuel: false,\n  });\n\n  const { isLoggedIn, token } = useAuth(); // Retrieve isLoggedIn status and JWT token from AuthContext\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  const handleRentOut = async () => {\n    if (!isLoggedIn) {\n      alert('You must be logged in to rent out a bike');\n      return;\n    }\n\n    try {\n      const response = await axios.post(\n        'http://127.0.0.1:5000/rent-out',\n        { ...formData, milesDriven: parseInt(formData.milesDriven) || 0 }, // Ensuring milesDriven is a number\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      if (response.status === 201) {\n        setListingCreated(true);\n      } else {\n        alert('Failed to create listing. Please try again later.');\n      }\n    } catch (error) {\n      console.error('Error renting out the bike:', error);\n      alert('Failed to create listing. Please try again later.');\n    }\n  };\n\n  return (\n    <div className=\"rent\">\n      <div className=\"flex-container1_rob\">\n        <div className=\"box-content0_rob\">\n          <span className=\"typing-animation1_rob\">Rent it Out!</span>\n          <div className=\"typing-animation1_rob\">\n            Make money by renting out your bike when you're not using it.\n          </div>\n        </div>\n      </div>\n      <div className='frm'>\n        <h2 className=\"form-title\">Post Your Ad</h2>\n        <div className=\"toRent\">\n          <form className=\"horizontal-form\">\n            <div className=\"form-half\">\n              <label>\n                Vehicle Name:\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  placeholder=\"Type Vehicle Name\"\n                />\n              </label>\n              <label>\n                Vehicle Description:\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                />\n              </label>\n              <label>\n                Miles Driven:\n                <input\n                  type=\"number\"\n                  name=\"milesDriven\"\n                  value={formData.milesDriven}\n                  onChange={handleInputChange}\n                />\n              </label>\n              <label className=\"checkbox-label\">\n                Has Fuel:\n                <input\n                  type=\"checkbox\"\n                  name=\"hasFuel\"\n                  checked={formData.hasFuel}\n                  onChange={handleInputChange}\n                />\n              </label>\n              {/* Placeholder for file upload */}\n              <label>\n                Pictures:\n                <input\n                  type=\"file\"\n                  name=\"pictures\"\n                  multiple\n                  onChange={handleInputChange}\n                />\n              </label>\n            </div>\n          </form>\n        </div>\n        <div className=\"button-container\">\n          <button onClick={handleRentOut} className=\"rent-out-button\">Rent Out</button>\n          <button onClick={() => navigateTo('landing')} className=\"go-back-button\">Go Back</button>\n        </div>\n        {isListingCreated && (\n          <div className=\"success-message\">\n            Your bike listing has been created successfully.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RentOutBike;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}